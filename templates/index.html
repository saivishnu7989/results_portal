{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="{% static '01Logo-Medium (1).png' %}">
    <title>KITS Results Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
</head>
<body>

<!-- Header with Logo -->
<header>
    <div class="logo-section">
        <img src="{% static 'C:\Users\saivi\2025\project\btechresults\static\img\01Logo-Medium.png' %}" alt="JNTUK Logo">
        <div class="title">
            <h1>KITS</h1>
            <p>Krishna Chaitanya Institue Of Technology and Sciences, Devarajugattu</p>
            <p>Effective People Effective Culture</p>
        </div>
    </div>
</header>

<!-- Navigation -->
<nav>
    <ul>
        <li class="active">New Results</li>
        <li>UG</li>
        <li>PG</li>
        <li><a href="#">Home</a></li>
        <li><a href="#">Director of Evaluation</a></li>
        <li><a href="#">Controller of Examinations</a></li>
    </ul>
</nav>

<!-- Search & Dropdown -->
<div class="controls">
    <input type="text" id="searchInput" placeholder="Search">
    <select id="rowsPerPage">
        <option value="10">10</option>
        <option value="25" selected>25</option>
        <option value="50">50</option>
    </select>
</div>

<!-- Results Table -->
<table>
    <thead>
      <tr>
        <th>S.No</th>
        <th>Semester</th>
        <th>Regulation</th>
      </tr>
    </thead>
    <tbody>
      {% for semester in semesters %}
      <tr onclick="window.location.href='{% url 'check_result' semester.id %}'">
        <td>{{ forloop.counter }}</td>
        <td>{{ semester.name }}</td>
        <td>{{ semester.regulation }}</td>
      </tr>
      {% endfor %}
    </tbody>
</table>

<!-- Pagination Controls -->
<div class="pagination">
    <button id="prevPage">◀</button>
    <span id="pageInfo">Page 1</span>
    <button id="nextPage">▶</button>
</div>

<!-- Footer -->
<footer>
    <div>
        <h3>About Us</h3>
        <p>JNTUK is a public university located in Kakinada. It is known for academic excellence.</p>
    </div>
    <div>
        <h3>Contact</h3>
        <p>Email: info@jntuk.edu.in</p>
        <p>Phone: +91-12345-67890</p>
    </div>
</footer>

<script>
    const table = document.getElementById("resultsTable").getElementsByTagName("tbody")[0];
    const rows = table.getElementsByTagName("tr");
    const rowsPerPageSelector = document.getElementById("rowsPerPage");
    const pageInfo = document.getElementById("pageInfo");
    let currentPage = 1;
    
    function paginate() {
        const rowsPerPage = parseInt(rowsPerPageSelector.value);
        const totalRows = rows.length;
        const totalPages = Math.ceil(totalRows / rowsPerPage);
    
        for (let i = 0; i < totalRows; i++) {
            rows[i].style.display = (i >= (currentPage - 1) * rowsPerPage && i < currentPage * rowsPerPage) ? "" : "none";
        }
    
        pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
    }
    
    document.getElementById("prevPage").onclick = () => {
        if (currentPage > 1) {
            currentPage--;
            paginate();
        }
    };
    
    document.getElementById("nextPage").onclick = () => {
        const rowsPerPage = parseInt(rowsPerPageSelector.value);
        const totalRows = rows.length;
        const totalPages = Math.ceil(totalRows / rowsPerPage);
        if (currentPage < totalPages) {
            currentPage++;
            paginate();
        }
    };
    
    rowsPerPageSelector.onchange = () => {
        currentPage = 1;
        paginate();
    };
    
    document.getElementById("searchInput").addEventListener("keyup", function () {
        const value = this.value.toLowerCase();
        for (let row of rows) {
            row.style.display = row.innerText.toLowerCase().includes(value) ? "" : "none";
        }
    });
    
    paginate();
</script>
    

</body>
</html>
